(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{1667:function(s,r,e){"use strict";e("57e2")},"57e2":function(s,r,e){},"73cf":function(s,r,e){"use strict";e.r(r);var t=function(){var s=this,r=s._self._c;return r("div",{staticClass:"auth-page"},[r("div",{staticClass:"auth-card"},[r("div",{staticClass:"auth-header"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"logo-img",attrs:{src:e("9b19"),alt:"AI2Cloth Logo"}})]),r("h2",[s._v("创建你的账户")]),r("p",[s._v("加入 AI2Cloth，开启智能穿搭新体验")])],1),r("form",{staticClass:"auth-form",on:{submit:function(r){return r.preventDefault(),s.handleRegister.apply(null,arguments)}}},[r("div",{staticClass:"form-item",class:{error:s.errors.email}},[r("div",{staticClass:"input-wrapper"},[r("span",{staticClass:"input-icon"},[s._v("📧")]),r("input",{directives:[{name:"model",rawName:"v-model",value:s.registerForm.email,expression:"registerForm.email"}],staticClass:"form-input",attrs:{type:"email",placeholder:"邮箱地址"},domProps:{value:s.registerForm.email},on:{blur:s.validateEmail,input:function(r){r.target.composing||s.$set(s.registerForm,"email",r.target.value)}}})]),s.errors.email?r("div",{staticClass:"error-message"},[s._v(s._s(s.errors.email))]):s._e()]),r("div",{staticClass:"form-item",class:{error:s.errors.password}},[r("div",{staticClass:"input-wrapper"},[r("span",{staticClass:"input-icon"},[s._v("🔒")]),"checkbox"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.registerForm.password,expression:"registerForm.password"}],staticClass:"form-input",attrs:{placeholder:"密码（至少6位）",type:"checkbox"},domProps:{checked:Array.isArray(s.registerForm.password)?s._i(s.registerForm.password,null)>-1:s.registerForm.password},on:{blur:s.validatePassword,change:function(r){var e=s.registerForm.password,t=r.target,a=!!t.checked;if(Array.isArray(e)){var o=null,i=s._i(e,o);t.checked?i<0&&s.$set(s.registerForm,"password",e.concat([o])):i>-1&&s.$set(s.registerForm,"password",e.slice(0,i).concat(e.slice(i+1)))}else s.$set(s.registerForm,"password",a)}}}):"radio"===(s.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:s.registerForm.password,expression:"registerForm.password"}],staticClass:"form-input",attrs:{placeholder:"密码（至少6位）",type:"radio"},domProps:{checked:s._q(s.registerForm.password,null)},on:{blur:s.validatePassword,change:function(r){return s.$set(s.registerForm,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:s.registerForm.password,expression:"registerForm.password"}],staticClass:"form-input",attrs:{placeholder:"密码（至少6位）",type:s.showPassword?"text":"password"},domProps:{value:s.registerForm.password},on:{blur:s.validatePassword,input:function(r){r.target.composing||s.$set(s.registerForm,"password",r.target.value)}}}),r("button",{staticClass:"password-toggle",attrs:{type:"button"},on:{click:function(r){s.showPassword=!s.showPassword}}},[s._v(" "+s._s(s.showPassword?"🙈":"👁️")+" ")])]),s.errors.password?r("div",{staticClass:"error-message"},[s._v(s._s(s.errors.password))]):s._e()]),r("div",{staticClass:"form-item"},[r("button",{staticClass:"auth-button",class:{loading:s.loading},attrs:{type:"submit",disabled:s.loading}},[s.loading?r("span",{staticClass:"loading-spinner"}):s._e(),s._v(" "+s._s(s.loading?"注册中...":"立即注册")+" ")])])]),r("div",{staticClass:"auth-footer"},[s._v(" 已有账户？ "),r("router-link",{attrs:{to:"/login"}},[s._v("立即登录")])],1)])])},a=[],o=(e("14d9"),e("2f62")),i={name:"Register",data(){return{loading:!1,showPassword:!1,registerForm:{email:"",password:""},errors:{email:"",password:""}}},methods:{...Object(o["b"])("auth",["register"]),validateEmail(){const s=this.registerForm.email.trim();if(!s)return this.errors.email="请输入邮箱地址",!1;const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return r.test(s)?(this.errors.email="",!0):(this.errors.email="请输入正确的邮箱地址",!1)},validatePassword(){const s=this.registerForm.password;return s?s.length<6?(this.errors.password="密码长度不能少于 6 位",!1):(this.errors.password="",!0):(this.errors.password="请输入密码",!1)},validateForm(){const s=this.validateEmail(),r=this.validatePassword();return s&&r},async handleRegister(){if(this.validateForm()){this.loading=!0;try{await this.register(this.registerForm),this.$router.push("/dashboard"),this.showMessage("注册成功，欢迎加入！","success")}catch(r){var s;const e=(null===(s=r.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.detail)||"注册失败，请稍后重试。";this.showMessage(e,"error")}finally{this.loading=!1}}},showMessage(s,r){const e=document.createElement("div");e.className="message-toast "+r,e.textContent=s,document.body.appendChild(e),setTimeout(()=>{e.classList.add("show")},100),setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>{document.body.removeChild(e)},300)},3e3)}}},l=i,d=(e("1667"),e("2877")),n=Object(d["a"])(l,t,a,!1,null,"dbec7fb2",null);r["default"]=n.exports},"9b19":function(s,r,e){s.exports=e.p+"img/logo.fd1e1b22.svg"}}]);
//# sourceMappingURL=register.1cbb0bd8.js.map