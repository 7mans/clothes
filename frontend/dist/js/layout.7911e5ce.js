(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout"],{"6a4b":function(t,s,o){},"713b":function(t,s,o){"use strict";o.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main-layout"},[s("header",{staticClass:"main-header"},[s("div",{staticClass:"header-container"},[s("div",{staticClass:"logo-container"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo-img",attrs:{src:o("9b19"),alt:"AI2Cloth Logo"}}),s("span",{staticClass:"logo-text"},[t._v("AI2Cloth")])])],1),s("nav",{staticClass:"main-nav"},[s("router-link",{attrs:{to:"/"}},[t._v("首页")]),s("router-link",{attrs:{to:"/dashboard"}},[t._v("开始创作")]),s("router-link",{attrs:{to:"/payment"}},[t._v("钻石商店")])],1),s("div",{staticClass:"user-actions"},[t.isAuthenticated?[s("div",{staticClass:"user-dropdown",class:{active:t.dropdownOpen},on:{click:t.toggleDropdown}},[s("span",{staticClass:"dropdown-trigger"},[s("span",{staticClass:"user-icon"},[t._v("👤")]),t._v(" "+t._s(t.currentUser.username)+" "),s("span",{staticClass:"arrow-icon"},[t._v("▼")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dropdownOpen,expression:"dropdownOpen"}],staticClass:"dropdown-menu"},[s("div",{staticClass:"dropdown-item",on:{click:function(s){return t.handleCommand("dashboard")}}},[t._v("我的主页")]),s("div",{staticClass:"dropdown-divider"}),s("div",{staticClass:"dropdown-item",on:{click:function(s){return t.handleCommand("logout")}}},[t._v("退出登录")])])]),s("div",{staticClass:"diamonds-info"},[s("span",{staticClass:"diamond-icon"},[t._v("💎")]),t._v(" "+t._s(t.currentUser.diamonds)+" ")])]:[s("router-link",{staticClass:"auth-link",attrs:{to:"/login"}},[t._v("登录")]),s("router-link",{attrs:{to:"/register"}},[s("button",{staticClass:"register-button"},[t._v("立即注册")])])]],2)])]),s("main",{staticClass:"main-content"},[s("router-view",{key:t.$route.fullPath})],1)])},n=[],e=(o("14d9"),o("2f62")),i={name:"MainLayout",data(){return{dropdownOpen:!1}},computed:{...Object(e["c"])("auth",["isAuthenticated","currentUser"])},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},methods:{...Object(e["b"])("auth",["logout"]),toggleDropdown(){this.dropdownOpen=!this.dropdownOpen},handleClickOutside(t){this.$el.querySelector(".user-dropdown").contains(t.target)||(this.dropdownOpen=!1)},handleCommand(t){this.dropdownOpen=!1,"logout"===t?this.logout():"dashboard"===t&&this.$router.push("/dashboard").catch(()=>{})}}},r=i,d=(o("b5ac"),o("2877")),c=Object(d["a"])(r,a,n,!1,null,"8f13b742",null);s["default"]=c.exports},"9b19":function(t,s,o){t.exports=o.p+"img/logo.fd1e1b22.svg"},b5ac:function(t,s,o){"use strict";o("6a4b")}}]);
//# sourceMappingURL=layout.7911e5ce.js.map